# Video Subtitle Remover Frontend

基于 React + TypeScript + Tailwind CSS 的视频字幕去除工具前端界面。

## 功能特性

### 🎬 文件管理
- 支持拖拽上传视频和图片文件
- 批量文件处理
- 文件预览和缩略图生成
- 支持格式：MP4, AVI, FLV, WMV, MOV, MKV, JPG, PNG, BMP, TIFF

### 🎯 视频预览
- 实时视频播放控制
- 字幕区域手动选择
- 支持自动/手动字幕检测模式
- 全屏预览支持

### ⚙️ 参数配置
- **STTN 算法**：真人视频效果好，速度快，可跳过字幕检测
- **LAMA 算法**：图片效果最好，动画类视频效果好
- **ProPainter 算法**：运动剧烈视频效果好，需要大量显存
- 详细的参数调节选项

### 📊 处理监控
- 实时处理进度显示
- 任务队列管理
- 处理速度和剩余时间估算
- 错误信息显示

### 💾 结果管理
- 处理结果预览
- 批量下载功能
- 文件链接复制
- 选择性下载

### 🎨 界面特性
- 响应式设计，支持移动端
- 深色/浅色主题切换
- 现代化 UI 设计
- 流畅的动画效果

## 技术栈

- **React 18** - 用户界面框架
- **TypeScript** - 类型安全
- **Vite** - 构建工具
- **Tailwind CSS** - 样式框架
- **Lucide React** - 图标库
- **React Dropzone** - 文件拖拽
- **React Hot Toast** - 通知提示

## 快速开始

### 环境要求
- Node.js 16+
- npm 或 yarn

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览生产版本
```bash
npm run preview
```

## 项目结构

```
src/
├── components/          # React 组件
│   ├── Header.tsx      # 页面头部
│   ├── FileUploader.tsx # 文件上传
│   ├── VideoPreview.tsx # 视频预览
│   ├── ParameterConfig.tsx # 参数配置
│   ├── ProcessingQueue.tsx # 处理队列
│   └── ResultManager.tsx # 结果管理
├── types/              # TypeScript 类型定义
│   └── index.ts
├── utils/              # 工具函数
│   └── index.ts
├── App.tsx            # 主应用组件
├── main.tsx           # 应用入口
└── index.css          # 全局样式
```

## 使用说明

### 1. 上传文件
- 点击上传区域选择文件，或直接拖拽文件到页面
- 系统会自动生成缩略图并验证文件格式

### 2. 配置参数
- 选择适合的修复算法（推荐 STTN）
- 根据需要调整算法参数
- 设置字幕检测模式

### 3. 预览和选择字幕区域
- 在视频预览中播放视频
- 如选择手动模式，可以拖拽调整字幕区域
- 支持全屏预览

### 4. 开始处理
- 点击"开始处理"按钮
- 在处理队列中监控进度
- 可以暂停、取消处理任务

### 5. 下载结果
- 处理完成后在结果管理中查看
- 支持预览和批量下载
- 可复制文件链接分享

## 配置选项

### STTN 算法参数
- **跳过字幕检测**：如果已经知道字幕位置，可以跳过检测步骤
- **相邻帧步长**：控制参考帧的间隔
- **参考帧长度**：用于修复的参考帧数量
- **最大加载数量**：同时处理的帧数（影响内存使用）

### ProPainter 算法参数
- **最大加载数量**：根据 GPU 显存调整，70 约需 8G 显存

### LAMA 算法参数
- **极速模式**：简单文本去除，不保证修复效果

### 通用参数
- **H264 编码**：提升安卓设备兼容性
- **各种容差设置**：调整字幕检测的敏感度

## 开发说明

### 添加新算法
1. 在 `types/index.ts` 中添加算法类型
2. 在 `ParameterConfig.tsx` 中添加算法选项和参数界面
3. 更新工具函数以支持新算法

### 自定义主题
在 `tailwind.config.js` 中修改主题配置，支持：
- 主色调调整
- 深色模式配置
- 字体和间距设置

### API 集成
目前使用模拟数据，集成真实后端时需要：
1. 替换 `App.tsx` 中的模拟处理逻辑
2. 添加 WebSocket 连接用于实时进度更新
3. 实现文件上传和下载 API

## 性能优化

- 使用 React.memo 优化组件渲染
- 虚拟滚动处理大量文件列表
- 图片懒加载和缩略图压缩
- 防抖和节流优化用户交互

## 浏览器支持

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 许可证

MIT License
